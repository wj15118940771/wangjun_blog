<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="_fragments :: head(~{::title})">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户博客管理</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.css">
    <link rel="stylesheet" href="../../static/css/me.css"  th:href="@{/css/me.css}">
</head>
<body>

<!--导航-->
<nav th:replace="_fragments :: menu(0,${isLogin})" class="ui inverted attached segment m-padded-tb-mini">

</nav>

<!--中间-->
<div class="m-padded-tb-large">
    <div class="ui container">
        <div class="ui success blue message" th:unless="${#strings.isEmpty(message)}">
            <i class="close icon"></i>
            <div class="header">提示：</div>
            <p th:text="${message}">恭喜，操作成功！</p>
        </div>
        <div class="ui stackable grid ">


                <div class="ui top attached segment">
                    <div class="ui middle aligned two column grid">
                        <div class="column">
                            <h3 class="ui blue header">修改密码</h3>
                        </div>
                    </div>
                    <form id="user-form" name="user-form" th:object="${user}" th:action="@{/user/change}" method="post" class="ui form"  enctype="multipart/form-data">

                        <div class="ui centttt">
                            <div class="ui attached  segment">


                                <div class="marginnn">
                                    旧密码：
                                    <div class="ui mini input" >
                                        <input type="password" name="oldPassword"  >
                                    </div>
                                </div>
                                <div class="marginnn">
                                    新密码：
                                    <div class="ui mini input"  >
                                        <input type="password" id="newPassword" name="newPassword" >
                                    </div>
                                </div>
                                <div class="marginnn">
                                    密码确认：
                                    <div class="ui mini input"  >
                                        <input type="password" id="new2Password" name="new2Password" >
                                    </div>
                                </div>

                                <div class="marginnn">
                                    <button type="button" class="ui button" onclick="window.history.go(-1)" >返回</button>
                                    <button type="button"  id="save-btn"  class="ui blue button">修改</button>
                                </div>
                            </div>

                        </div>
                    </form>

                </div>


        </div>


    </div>
</div>
<br>
<br><br>
<br><br>
<br><br>
<br><br>
<br><br>
<br><br>
<br><br>
<br>
<br>
<br>
<!--底部footer-->
<footer  th:replace="_fragments :: footer" class="ui inverted vertical segment m-padded-tb-massive">

</footer>

<!--/*/<th:block th:replace="_fragments :: script">/*/-->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js"></script>
<!--/*/</th:block>/*/-->
</body>

</html>


<script>
    $('#user-form').form({
        fields : {
            password : {
                identifier: 'newPassword',
                rules: [{
                    type : 'empty',
                    prompt: '请输入旧密码'
                }]
            },
            password : {
                identifier: 'newPassword',
                rules: [{
                    type : 'empty',
                    prompt: '请输入新密码'
                }]
            },
            password : {
                identifier: 'new2Password',
                rules: [{
                    type : 'empty',
                    prompt: '请输入新密码'
                }]
            }
        }
    });










    $('#save-btn').click(function () {

        var n1 = document.getElementById("newPassword");
        var n2 = document.getElementById("new2Password");
        if(n1.value!=n2.value){
            alert("两次密码输入不同,请重新输入!");
            return false;
        }
        else {
            $('#user-form').submit();
            return true;
        }

    });

</script>